<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.75.1" />
<META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">
<link rel="alternate" type="application/rss&#43;xml" href="https://mosn.io/en/docs/quick-start/istio/index.xml">


<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/favicons/android-192x192.png" sizes="192x192">

<title>Use MOSN as an Istio data plane | MOSN</title><meta property="og:title" content="Use MOSN as an Istio data plane" />
<meta property="og:description" content="This topic shows you how to build a Service Mesh development environment with MOSN under the Istio framework, and verify the basic routing and load balancing capabilities of MOSN.
" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://mosn.io/en/docs/quick-start/istio/" />
<meta property="og:updated_time" content="2023-02-21T18:00:46+08:00" /><meta property="og:site_name" content="MOSN" />
<meta itemprop="name" content="Use MOSN as an Istio data plane">
<meta itemprop="description" content="This topic shows you how to build a Service Mesh development environment with MOSN under the Istio framework, and verify the basic routing and load balancing capabilities of MOSN.
">
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Use MOSN as an Istio data plane"/>
<meta name="twitter:description" content="This topic shows you how to build a Service Mesh development environment with MOSN under the Istio framework, and verify the basic routing and load balancing capabilities of MOSN.
"/>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-93485976-3', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>




<link rel="preload" href="/scss/main.min.9cec847bc1ee9ab691799d701ee687d347251e2f54aa5296c06b28d7ff934652.css" as="style">
<link href="/scss/main.min.9cec847bc1ee9ab691799d701ee687d347251e2f54aa5296c06b28d7ff934652.css" rel="stylesheet" integrity="">


<script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>





    <title>Use MOSN as an Istio data plane | MOSN</title>
  </head>
  <body class="td-section">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="/en/">
		<span class="navbar-logo"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 329.77 104.1"><defs><linearGradient id="未命名的渐变_32" x1="105.22" y1="49.86" x2="45.89" y2="82.52" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#fff" stop-opacity="0"/><stop offset="1" stop-color="#fff"/></linearGradient></defs><title>MOSN logo</title><g id="图层_2" data-name="图层 2"><g id="图层_1-2" data-name="图层 1"><polygon points="273.9 79.91 273.88 49.09 242.34 49.11 242.34 36.9 273.78 36.9 273.75 27.74 231.28 27.76 231.3 58.59 262.85 58.56 262.85 70.77 231.34 70.77 231.37 79.91 273.9 79.91" style="fill:#fff"/><path d="M175.76 79.91h46.59v-52h-46.56zm11-43.1h24.5V70.94h-24.5z" style="fill:#fff"/><path d="M329.77 79.91v-51.74h-46.56V79.91h11v-41h24.5v41z" style="fill:#fff"/><polygon points="165.54 79.82 165.46 27.61 155.21 27.69 140.1 42.55 125 27.7 114.66 27.7 114.75 79.91 124.39 79.82 124.3 40.29 140.1 55.84 155.91 40.29 155.91 79.91 165.54 79.82" style="fill:#fff"/><polygon points="53.57 57.41 90.27 36.16 89.77 80.29 53.09 100.37 53.57 57.41" style="fill:url(#未命名的渐变_32)"/><path d="M92.42 32.59a1 1 0 00-1 0L51.13 55.47a2 2 0 00-1 1.75v45.85a1 1 0 00.52.89 1 1 0 00.52.14 1 1 0 00.51-.14L91.93 80.78a2 2 0 001-1.74V33.49A1 1 0 0092.42 32.59zM84.79 46V75.49L58.54 90.6V60.91z" style="fill:#fff"/><path d="M85.09 22 47.48.27a2 2 0 00-2 0L1 25.94a2 2 0 00-1 1.74V79a2 2 0 001 1.73L37.77 102a1 1 0 00.52.14 1 1 0 00.52-.14 1 1 0 00.52-.89V93.48a1.6 1.6.0 00-.79-1.38L9.33 75.24a.76.76.0 01-.39-.66V32.13a.77.77.0 01.39-.67L46.09 10.24a.76.76.0 01.77.0l30 17.32a1.61 1.61.0 001.59.0l6.64-3.78a1 1 0 00.52-.9A1 1 0 0085.09 22z" style="fill:#fff"/></g></g></svg></span>
        
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				<a class="nav-link" href="https://github.com/mosn/mosn/" target="_blank" ><span>GitHub</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link active" href="/en/docs/" ><span class="active">Documentation</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link" href="/en/blog/" ><span>Blog</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link" href="/en/docs/community/" ><span>Community</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link" href="/en/docs/tutorial/" ><span>Tutorial</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				<a class="nav-link" href="/en/docs/faq/" ><span>FAQ</span></a>
			</li>
			
			
			
			<li class="nav-item dropdown d-none d-lg-block">
				

<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
	English
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
	
	<a class="dropdown-item" href="/">中文</a>
	
</div>
			</li>
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block">
<input type="search" class="form-control td-search-input" placeholder="&#xf002 Search this site…" aria-label="Search this site…" autocomplete="off">
</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
            




<div id="td-sidebar-menu" class="td-sidebar__inner">
  
  <form class="td-sidebar__search d-flex align-items-center">
    
<input type="search" class="form-control td-search-input" placeholder="&#xf002 Search this site…" aria-label="Search this site…" autocomplete="off">

    <button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type="button" data-toggle="collapse" data-target="#td-section-nav" aria-controls="td-docs-nav" aria-expanded="false" aria-label="Toggle section navigation">
    </button>
  </form>
  
  <nav class="collapse td-sidebar-nav pt-2 pl-4" id="td-section-nav">
    
    <div class="nav-item dropdown d-block d-lg-none">
      

<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
	English
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
	
	<a class="dropdown-item" href="/">中文</a>
	
</div>
    </div>
    
    






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/en/docs/" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Documentation</a>
  </li>
  <ul>
    <li class="collapse show" id="endocs">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsoverview" href="/en/docs/overview/">Overview</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsdevfeaturegate-introduce" href="/en/docs/dev/featuregate-introduce/">FeatureGate overview</a>
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/en/docs/quick-start/" class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Get started</a>
  </li>
  <ul>
    <li class="collapse show" id="endocsquick-start">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsquick-startproxy" href="/en/docs/quick-start/proxy/">Quick start</a>
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/en/docs/quick-start/istio/" class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">Istio integration</a>
  </li>
  <ul>
    <li class="collapse show" id="endocsquick-startistio">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsquick-startistioistio-diff" href="/en/docs/quick-start/istio/istio-diff/"></a>
      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/en/docs/concept/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Architecture and principle</a>
  </li>
  <ul>
    <li class="collapse " id="endocsconcept">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsconceptcore-concept" href="/en/docs/concept/core-concept/">Core concepts</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsconceptsidecar-pattern" href="/en/docs/concept/sidecar-pattern/">Sidecar pattern</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsconcepttraffic-hijack" href="/en/docs/concept/traffic-hijack/">Traffic hijacking</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsconcepttls" href="/en/docs/concept/tls/">TLS connections</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsconceptsmooth-upgrade" href="/en/docs/concept/smooth-upgrade/">MOSN hot upgrade</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/en/docs/configuration/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Configuration overview</a>
  </li>
  <ul>
    <li class="collapse " id="endocsconfiguration">
      
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/en/docs/configuration/listener/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Listener configurations</a>
  </li>
  <ul>
    <li class="collapse " id="endocsconfigurationlistener">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsconfigurationlistenerfilter-chain" href="/en/docs/configuration/listener/filter-chain/">FilterChain</a>
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/en/docs/configuration/listener/network-filter/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Network Filter</a>
  </li>
  <ul>
    <li class="collapse " id="endocsconfigurationlistenernetwork-filter">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsconfigurationlistenernetwork-filterproxy" href="/en/docs/configuration/listener/network-filter/proxy/">proxy</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsconfigurationlistenernetwork-filterconnection-manager" href="/en/docs/configuration/listener/network-filter/connection-manager/">connection_manager</a>
      
      
    </li>
  </ul>
</ul>

      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/en/docs/configuration/server/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Server configurations</a>
  </li>
  <ul>
    <li class="collapse " id="endocsconfigurationserver">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsconfigurationserverrouter" href="/en/docs/configuration/server/router/">Router configurations</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/en/docs/configuration/trace/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Trace configurations</a>
  </li>
  <ul>
    <li class="collapse " id="endocsconfigurationtrace">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsconfigurationtraceskywalking" href="/en/docs/configuration/trace/skywalking/">SkyWalking configurations</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsconfigurationcustom" href="/en/docs/configuration/custom/">Custom configurations</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocssamples" href="/en/docs/samples/">Example projects</a>
      
      
      
      






<ul class="td-sidebar-nav__section pr-md-3">
  <li class="td-sidebar-nav__section-title">
    <a  href="/en/docs/contribute/" class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Document contribution</a>
  </li>
  <ul>
    <li class="collapse " id="endocscontribute">
      
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocscontributegithub" href="/en/docs/contribute/github/">Documentation contribution guide</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocscontributecreating-pages" href="/en/docs/contribute/creating-pages/">Create a page</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocscontributestyle-guide" href="/en/docs/contribute/style-guide/">Format guide</a>
      
      
    </li>
  </ul>
</ul>

      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocsfaq" href="/en/docs/faq/">FAQ</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocscommunity" href="/en/docs/community/">Community</a>
      
      
      
      
      
      <a class="td-sidebar-link td-sidebar-link__page " id="m-endocstutorial" href="/en/docs/tutorial/">Tutorial</a>
      
      
    </li>
  </ul>
</ul>

  </nav>
</div>




          </div>
          <div class="d-none d-xl-block col-xl-2 td-toc d-print-none">
            




<div class="td-page-meta ml-2 pb-1 pt-2 mb-0">





<a href="https://github.com/mosn/mosn.io/edit/master/content/en/docs/quick-start/istio/_index.md" target="_blank"><i class="fa fa-edit fa-fw"></i> Edit this page</a>
<a href="https://github.com/mosn/mosn.io/issues/new?title=Use%20MOSN%20as%20an%20Istio%20data%20plane" target="_blank"><i class="fab fa-github fa-fw"></i> Create documentation issue</a>


<a href="https://github.com/mosn/mosn/issues/new" target="_blank"><i class="fas fa-tasks fa-fw"></i> Create project issue</a>

</div>






<nav id="TableOfContents">
  <ul>
    <li><a href="#relationship-between-mosn-and-istio">Relationship between MOSN and Istio</a></li>
    <li><a href="#instructions-on-how-to-build-the-istio-proxyv2-image-with-mosn">Instructions on how to build the Istio proxyv2 image with MOSN</a></li>
  </ul>

  <ul>
    <li><a href="#istio-deployment-with-mosn">Istio deployment with MOSN</a>
      <ul>
        <li><a href="#install-kubectl">Install kubectl</a></li>
        <li><a href="#install-kubernetes-platform">Install Kubernetes Platform</a></li>
        <li><a href="#install-istio-use-mosn-as-sidecar">Install Istio, use MOSN as sidecar</a></li>
      </ul>
    </li>
    <li><a href="#bookinfo-test">Bookinfo test</a>
      <ul>
        <li><a href="#bookinfo-introduction">Bookinfo introduction</a></li>
        <li><a href="#verify-routing-by-version-in-mosn">Verify routing by version in MOSN</a></li>
        <li><a href="#verify-routing-by-weight-in-mosn">Verify routing by weight in MOSN</a></li>
        <li><a href="#verify-routing-by-specific-header-in-mosn">Verify routing by specific header in MOSN</a></li>
        <li><a href="#uninstall-bookinfo">Uninstall Bookinfo</a></li>
      </ul>
    </li>
    <li><a href="#uninstall-istio">Uninstall Istio</a></li>
  </ul>
</nav>



          </div>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            <nav aria-label="breadcrumb" class="d-none d-md-block d-print-none">
	<ol class="breadcrumb spb-1">
		










<li class="breadcrumb-item" >
	<a href="/en/en/docs/">Documentation</a>
</li>




<li class="breadcrumb-item" >
	<a href="/en/en/docs/quick-start/">Get started</a>
</li>




<li class="breadcrumb-item active" aria-current="page">
	<a href="/en/en/docs/quick-start/istio/">Istio integration</a>
</li>

	</ol>
</nav	>


            
<div class="td-content">
	<h1>Use MOSN as an Istio data plane</h1>
	<div class="lead">This topic shows you how to build a Service Mesh development environment with MOSN under the Istio framework, and verify the basic routing and load balancing capabilities of MOSN.</div>
	

<div class="pageinfo pageinfo-primary">
<p>MOSN v1.0.0 succeeded in the Bookinfo test for Istio 1.10.6. For more information about the support from the latest version of Istio, see <a href="https://github.com/mosn/community/blob/master/wg-istio.md">MOSN Istio WG</a>.</p>

</div>

<p>This topic covers the following content:</p>
<ul>
<li>Relationship between MOSN and Istio</li>
<li>Instructions on how to build the Istio proxyv2 image with MOSN</li>
<li>Istio deployment with MOSN</li>
<li>Bookinfo test</li>
</ul>
<h2 id="relationship-between-mosn-and-istio">Relationship between MOSN and Istio</h2>
<p>As described in the <a href="../../overview">MOSN overview</a>, MOSN is a service mesh data plane proxy developed in Golang.</p>
<p>The following figure shows the operating principle of MOSN in Istio.</p>
<div align=center><img src="mosn-with-service-mesh.png" width = "450" height = "400" alt="MOSN overview" /></div>
<h2 id="instructions-on-how-to-build-the-istio-proxyv2-image-with-mosn">Instructions on how to build the Istio proxyv2 image with MOSN</h2>
<p>The operating system described in this topic is MacOS, and the Istio version is 1.10.6. If you are using anither OS, there may be some differences.
If only the MOSN code changes, you can also use the MOSN-only update method to build the proxyv2 image.
Usually, you do not need to build a proxyv2 image, use the image provided by us is ok. <code>mosnio/proxyv2:${MOSN VERSION}-${ISTIO VERSION}</code>, for example, <code>docker pull mosnio/proxyv2:v1.0.0-1.10.6</code>.</p>
<h1 id="build-proxyv2-image-with-source-code-on-macos-and-istio-1106">Build proxyv2 image with source code. (On MacOS and Istio 1.10.6)</h1>
<ol>
<li>Download the istio source code, and checkout to the target version.</li>
</ol>
<pre><code>git clone git@github.com:istio/istio.git
cd istio
git checkout 1.10.6
</code></pre><ol start="2">
<li>
<p>Istio will load wasm by default. To simplify, we need to comment out this part of the code. see details in <a href="./istio-diff">istio-diff</a></p>
</li>
<li>
<p>Build a MOSN binary. You can use the make command provided by MOSN project to build a binary on linux. As the same time, since we are using MacOS, we also need to compile a MacOS binary.</p>
</li>
<li>
<p>Tar the binary compiled by the step 2, the file path should be <code>usr/local/bin</code>.</p>
</li>
</ol>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#204a87">cd</span> <span style="color:#4e9a06">${</span><span style="color:#000">MOSN</span><span style="color:#000;font-weight:bold"> Project Path</span><span style="color:#4e9a06">}</span>
mkdir -p usr/local/bin
make build <span style="color:#8f5902;font-style:italic"># build mosn binary on linux</span>
cp build/bundles/<span style="color:#4e9a06">${</span><span style="color:#000">MOSN</span><span style="color:#000;font-weight:bold"> VERSION</span><span style="color:#4e9a06">}</span>/binary/mosn usr/local/bin
tar -zcvf mosn.tar.gz usr/local/bin/mosn
cp mosn.tar.gz mosn-centos.tar.gz <span style="color:#8f5902;font-style:italic"># copy a renamed tar.gz file</span>

make build-local <span style="color:#8f5902;font-style:italic"># build mosn binary on macos</span>
cp build/bundles/<span style="color:#4e9a06">${</span><span style="color:#000">MOSN</span><span style="color:#000;font-weight:bold"> VERSION</span><span style="color:#4e9a06">}</span>/binary/mosn usr/local/bin
tar -zcvf mosn-macos.tar.gz usr/local/bin/mosn
</code></pre></div><ol start="5">
<li>Upload the <code>mosn-macos.tar.gz</code> <code>mosn-centos.tar.gz</code> <code>mosn.tar.gz</code> to a store serivce that can be accessed, if you do not have one, you can use Go to build a simple service in your local system.</li>
</ol>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Go" data-lang="Go"><span style="color:#204a87;font-weight:bold">func</span> <span style="color:#000">main</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
  <span style="color:#000">address</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#4e9a06">&#34;&#34;</span> <span style="color:#8f5902;font-style:italic">// an address can be reached when proxyv2 image build. for example, 0.0.0.0:8080
</span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">filespath</span> <span style="color:#ce5c00;font-weight:bold">:=</span> <span style="color:#4e9a06">&#34;&#34;</span> <span style="color:#8f5902;font-style:italic">// where the .tar.gz files stored.
</span><span style="color:#8f5902;font-style:italic"></span>  <span style="color:#000">http</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">ListenAndServe</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">address</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">http</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">FileServer</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">http</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Dir</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">filespath</span><span style="color:#000;font-weight:bold">)))</span>
<span style="color:#000;font-weight:bold">}</span>
</code></pre></div><ol start="6">
<li>Build proxyv2 images, with some ENV</li>
</ol>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#000">address</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000">$1</span> <span style="color:#8f5902;font-style:italic"># your download service address</span>
<span style="color:#204a87">export</span> <span style="color:#000">ISTIO_ENVOY_VERSION</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000">$2</span> <span style="color:#8f5902;font-style:italic"># MOSN Version, can be any value.</span>
<span style="color:#204a87">export</span> <span style="color:#000">ISTIO_ENVOY_RELEASE_URL</span><span style="color:#ce5c00;font-weight:bold">=</span>http://<span style="color:#000">$address</span>/mosn.tar.gz
<span style="color:#204a87">export</span> <span style="color:#000">ISTIO_ENVOY_CENTOS_RELEASE_URL</span><span style="color:#ce5c00;font-weight:bold">=</span>http://<span style="color:#000">$address</span>/mosn-centos.tar.gz
<span style="color:#204a87">export</span> <span style="color:#000">ISTIO_ENVOY_MACOS_RELEASE_URL</span><span style="color:#ce5c00;font-weight:bold">=</span>http://<span style="color:#000">$address</span>/mosn-macos.tar.gz
<span style="color:#204a87">export</span> <span style="color:#000">ISTIO_ENVOY_MACOS_RELEASE_NAME</span><span style="color:#ce5c00;font-weight:bold">=</span>mosn-<span style="color:#000">$2</span> <span style="color:#8f5902;font-style:italic"># can be any value</span>
<span style="color:#204a87">export</span> <span style="color:#000">SIDECAR</span><span style="color:#ce5c00;font-weight:bold">=</span>mosn

make clean <span style="color:#8f5902;font-style:italic"># clean the cache</span>
make docker.proxyv2 <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span> <span style="color:#000">SIDECAR</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000">$SIDECAR</span> <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span> <span style="color:#000">ISTIO_ENVOY_VERSION</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000">$ISTIO_ENVOY_VERSION</span> <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span> <span style="color:#000">ISTIO_ENVOY_RELEASE_URL</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000">$ISTIO_ENVOY_RELEASE_URL</span> <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span> <span style="color:#000">ISTIO_ENVOY_CENTOS_RELEASE_URL</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000">$ISTIO_ENVOY_CENTOS_RELEASE_URL</span> <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span> <span style="color:#000">ISTIO_ENVOY_MACOS_RELEASE_URL</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000">$ISTIO_ENVOY_MACOS_RELEASE_URL</span> <span style="color:#4e9a06">\
</span><span style="color:#4e9a06"></span> <span style="color:#000">ISTIO_ENVOY_MACOS_RELEASE_NAME</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000">$ISTIO_ENVOY_MACOS_RELEASE_NAME</span>
</code></pre></div><ol start="7">
<li>Retag the new image, and push it to your docker hub.</li>
</ol>
<h1 id="update-mosn-binary-in-the-proxyv2-image">Update MOSN binary in the proxyv2 image.</h1>
<ol>
<li>Build the MOSN binary</li>
</ol>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#204a87">cd</span> <span style="color:#4e9a06">${</span><span style="color:#000">MOSN</span><span style="color:#000;font-weight:bold"> Project Path</span><span style="color:#4e9a06">}</span>
make build <span style="color:#8f5902;font-style:italic"># build mosn binary on linux</span>
</code></pre></div><ol start="2">
<li>Write a DOCKERFILE, and build a new image</li>
</ol>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-Dockerfile" data-lang="Dockerfile"><span style="color:#204a87;font-weight:bold">FROM</span><span style="color:#4e9a06"> mosnio/proxyv2:v1.0.0-1.10.6</span><span style="color:#a40000">
</span><span style="color:#a40000"></span><span style="color:#204a87;font-weight:bold">COPY</span> build/bundles/<span style="color:#4e9a06">${</span><span style="color:#000">MOSN</span><span style="color:#000;font-weight:bold"> VERSION</span><span style="color:#4e9a06">}</span>/binary/mosn /usr/local/bin/mosn<span style="color:#a40000">
</span></code></pre></div><div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">docker build --no-cache --rm -t <span style="color:#4e9a06">${</span><span style="color:#000">your</span><span style="color:#000;font-weight:bold"> image tag</span><span style="color:#4e9a06">}</span>
</code></pre></div><ol start="3">
<li>Push the new image to your docker hub.</li>
</ol>
<h2 id="istio-deployment-with-mosn">Istio deployment with MOSN</h2>
<h3 id="install-kubectl">Install kubectl</h3>
<p>kubectl is the Kubernetes command-line tool, allows you to run commands against Kubernetes clusters. How to install it, see details in <a href="https://kubernetes.io/docs/tasks/tools/install-kubectl">kubectl install</a>.</p>
<h3 id="install-kubernetes-platform">Install Kubernetes Platform</h3>
<p>How to prepare various Kubernetes platforms before installing Istio, see details in <a href="https://istio.io/latest/docs/setup/platform-setup/">Platform Setup</a>.
We use <code>minikube</code> later.</p>
<h3 id="install-istio-use-mosn-as-sidecar">Install Istio, use MOSN as sidecar</h3>
<ol>
<li>Download istio release version, you can find it in <a href="https://github.com/istio/istio/releases/tag/1.10.6">Istio release</a>, or use bash command</li>
</ol>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#000">VERSION</span><span style="color:#ce5c00;font-weight:bold">=</span>1.10.6 <span style="color:#8f5902;font-style:italic"># istio version</span>
<span style="color:#204a87">export</span> <span style="color:#000">ISTIO_VERSION</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000">$VERSION</span> <span style="color:#ce5c00;font-weight:bold">&amp;&amp;</span> curl -L https://istio.io/downloadIstio <span style="color:#000;font-weight:bold">|</span> sh -
</code></pre></div><ol start="2">
<li>Checkout to the path, add the <code>istioctl</code> to <code>PATH</code> environment variable.</li>
</ol>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#204a87">cd</span> istio-<span style="color:#000">$ISTIO_VERSION</span>/
<span style="color:#204a87">export</span> <span style="color:#000">PATH</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000">$PATH</span>:<span style="color:#204a87;font-weight:bold">$(</span><span style="color:#204a87">pwd</span><span style="color:#204a87;font-weight:bold">)</span>/bin
</code></pre></div><ol start="3">
<li>create istio namespace, set MOSN proxyv2 image as sidecar image</li>
</ol>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">kubectl create namespace istio-system
istioctl manifest apply --set .values.global.proxy.image<span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">${</span><span style="color:#000">MOSN</span><span style="color:#000;font-weight:bold"> IMAGE</span><span style="color:#4e9a06">}</span> --set meshConfig.defaultConfig.binaryPath<span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;/usr/local/bin/mosn&#34;</span>
</code></pre></div><ol start="4">
<li>Verify the installation</li>
</ol>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">kubectl get pod -n istio-system

NAME                                    READY   STATUS    RESTARTS   AGE
istio-ingressgateway-6b7fb88874-rgmrj   1/1     Running   <span style="color:#0000cf;font-weight:bold">0</span>          102s
istiod-65c9767c55-vjppv                 1/1     Running   <span style="color:#0000cf;font-weight:bold">0</span>          109s
</code></pre></div><p>If all pods in the <code>istio-system</code> namespace are running, the deployment succeeds.</p>
<h2 id="bookinfo-test">Bookinfo test</h2>
<p>MOSN v1.0.0 succeeded in the Bookinfo test for Istio 1.10.6. You can alsoe use <a href="https://katacoda.com/mosn/courses/istio/mosn-with-istio">MOSN with Istio</a> to run the Bookinfo test.
More test cases see Istio [Example]((<a href="https://istio.io/latest/docs/examples)">https://istio.io/latest/docs/examples)</a>.
If you have any questions, please contact us  <a href="https://github.com/mosn/mosn/issues">issue</a>, code contributions are welcome too.</p>
<h3 id="bookinfo-introduction">Bookinfo introduction</h3>
<p>The application displays information about a book, similar to a single catalog entry of an online book store. Displayed on the page is a description of the book, book details (ISBN, number of pages, and so on), and a few book reviews.
The Bookinfo application is broken into four separate microservices:</p>
<ul>
<li>productpage. The productpage microservice calls the details and reviews microservices to populate the page.</li>
<li>details. The details microservice contains book information.</li>
<li>reviews. The reviews microservice contains book reviews. It also calls the ratings microservice.</li>
<li>ratings. The ratings microservice contains book ranking information that accompanies a book review.</li>
</ul>
<div align=center><img src="bookinfo.png" width = "550" height = "400" alt="bookinfo" /></div>
<h4 id="deploy-bookinfo-and-inject-mosn">Deploy Bookinfo and inject MOSN</h4>
<blockquote>
<p>For details, go to <a href="https://istio.io/docs/examples/bookinfo/">https://istio.io/docs/examples/bookinfo/</a>.</p>
</blockquote>
<p>Use kube-inject way to inject MOSN</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">istioctl kube-inject -f samples/bookinfo/platform/kube/bookinfo.yaml &gt; bookinfo.yaml
<span style="color:#8f5902;font-style:italic"># sed -i &#39;&#39; is the MacOS command, if you are in linux, use sed -i instead.</span>
sed -i <span style="color:#4e9a06">&#39;&#39;</span> <span style="color:#4e9a06">&#34;s/\/usr\/local\/bin\/envoy/\/usr\/local\/bin\/mosn/g&#34;</span> ./bookinfo.yaml
</code></pre></div><p>Deploy Bookinfo app:</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl apply -f bookinfo.yaml
</code></pre></div><p>Verify whether the deployment succeeds</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl get services
NAME          TYPE        CLUSTER-IP        EXTERNAL-IP   PORT<span style="color:#ce5c00;font-weight:bold">(</span>S<span style="color:#ce5c00;font-weight:bold">)</span>    AGE
details       ClusterIP   192.168.248.118   &lt;none&gt;        9080/TCP   5m7s
kubernetes    ClusterIP   192.168.0.1       &lt;none&gt;        443/TCP    25h
productpage   ClusterIP   192.168.204.255   &lt;none&gt;        9080/TCP   5m6s
ratings       ClusterIP   192.168.227.164   &lt;none&gt;        9080/TCP   5m7s
reviews       ClusterIP   192.168.181.16    &lt;none&gt;        9080/TCP   5m6s
</code></pre></div><p>Wait until all pods are running</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl get pods
NAME                              READY   STATUS    RESTARTS   AGE
details-v1-77497b4899-67gfn       2/2     Running   <span style="color:#0000cf;font-weight:bold">0</span>          98s
productpage-v1-68d9cf459d-mv7rh   2/2     Running   <span style="color:#0000cf;font-weight:bold">0</span>          97s
ratings-v1-65f97fc6c5-npcrz       2/2     Running   <span style="color:#0000cf;font-weight:bold">0</span>          98s
reviews-v1-6bf4444fcc-9cfrw       2/2     Running   <span style="color:#0000cf;font-weight:bold">0</span>          97s
reviews-v2-54d95c5444-5jtxp       2/2     Running   <span style="color:#0000cf;font-weight:bold">0</span>          97s
reviews-v3-dffc77d75-jd8cr        2/2     Running   <span style="color:#0000cf;font-weight:bold">0</span>          97s
</code></pre></div><p>Check Bookinfo is working properly</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">kubectl <span style="color:#204a87">exec</span> -it <span style="color:#204a87;font-weight:bold">$(</span>kubectl get pod -l <span style="color:#000">app</span><span style="color:#ce5c00;font-weight:bold">=</span>ratings -o <span style="color:#000">jsonpath</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#39;{.items[0].metadata.name}&#39;</span><span style="color:#204a87;font-weight:bold">)</span> -c ratings -- curl productpage:9080/productpage <span style="color:#000;font-weight:bold">|</span> grep -o <span style="color:#4e9a06">&#34;&lt;title&gt;.*&lt;/title&gt;&#34;</span>
</code></pre></div><h4 id="access-bookinfo-services">Access Bookinfo services</h4>
<p>Enable the gateway mode.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl apply -f samples/bookinfo/networking/bookinfo-gateway.yaml
$ kubectl get gateway
NAME               AGE
bookinfo-gateway   6s
</code></pre></div><p>Set <code>GATEWAY_URL</code>. For details, go to <a href="https://istio.io/docs/tasks/traffic-management/ingress/ingress-control/#determining-the-ingress-ip-and-ports">doc</a></p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ <span style="color:#204a87">export</span> <span style="color:#000">INGRESS_PORT</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#204a87;font-weight:bold">$(</span>kubectl -n istio-system get service istio-ingressgateway -o <span style="color:#000">jsonpath</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#39;{.spec.ports[?(@.name==&#34;http2&#34;)].nodePort}&#39;</span><span style="color:#204a87;font-weight:bold">)</span>
$ <span style="color:#204a87">export</span> <span style="color:#000">INGRESS_HOST</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#204a87;font-weight:bold">$(</span>minikube ip<span style="color:#204a87;font-weight:bold">)</span>
$ <span style="color:#204a87">export</span> <span style="color:#000">GATEWAY_URL</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000">$INGRESS_HOST</span>:<span style="color:#000">$INGRESS_PORT</span>
</code></pre></div><p>Check whether the gateway takes effect.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ curl -o /dev/null -s -w <span style="color:#4e9a06">&#34;%{http_code}\n&#34;</span>  http://<span style="color:#000">$GATEWAY_URL</span>/productpage
<span style="color:#0000cf;font-weight:bold">200</span>
</code></pre></div><p><strong>View the page</strong></p>
<p>Go to <code>http://$GATEWAY_URL/productpage</code> (replace $GATEWAY_URL with your address). The Bookinfo page is shown as follows after you refresh it. Three versions of Book Reviews are available.
The three versions will be displayed in turn when you refresh the page. For more information, go to samples/bookinfo/platform/kube/bookinfo.yaml.</p>
<p>Page v1</p>
<p><img src="v1.png" alt="v1"></p>
<p>Page v2</p>
<p><img src="v2.png" alt="v2"></p>
<p>Page v3</p>
<p><img src="v3.png" alt="v3"></p>
<h3 id="verify-routing-by-version-in-mosn">Verify routing by version in MOSN</h3>
<p>Create a series of destination rules for Bookinfo services.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl apply -f samples/bookinfo/networking/destination-rule-all.yaml
</code></pre></div><p>Specify access to only v1 of the Book Reviews service.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl apply -f samples/bookinfo/networking/virtual-service-all-v1.yaml
</code></pre></div><p>Go to <code>http://$GATEWAY_URL/productpage</code>. You will find that book reviews are now fixed to be displayed on page v1.</p>
<p><img src="v1.png" alt="v1"></p>
<h3 id="verify-routing-by-weight-in-mosn">Verify routing by weight in MOSN</h3>
<p>Allocate 50% of the traffic to v1 and v3 each.</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl apply -f samples/bookinfo/networking/virtual-service-reviews-50-v3.yaml
</code></pre></div><p>Go to <code>http://$GATEWAY_URL/productpage</code>. You will find that page v1 and page v3 are displayed with a possibility of 50% each.</p>
<h3 id="verify-routing-by-specific-header-in-mosn">Verify routing by specific header in MOSN</h3>
<p>The Bookinfo page provides a login entry in the upper-right corner. After you log in, your request will carry the end-user custom field, the value of which is the user name. MOSN supports routing by the value of this header. For example, route user Jason to v2 and others to v1. (The username and password are both jason. For the reason of using this user account, check the corresponding YAML file).</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl apply -f samples/bookinfo/networking/virtual-service-reviews-test-v2.yaml
</code></pre></div><p>When you go to <code>http://$GATEWAY_URL/productpage</code>:</p>
<p>Page v2 will be displayed if you log in as Jason.</p>
<p><img src="login.png" alt="Login"></p>
<p>Page v1 will be displayed if you log in as other users.</p>
<p><img src="v1.png" alt="v1"></p>
<h3 id="uninstall-bookinfo">Uninstall Bookinfo</h3>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sh samples/bookinfo/platform/kube/cleanup.sh
</code></pre></div><p>Make sure Bookinfo is uninstalled</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl get virtualservices   <span style="color:#8f5902;font-style:italic">#-- there should be no virtual services</span>
$ kubectl get destinationrules  <span style="color:#8f5902;font-style:italic">#-- there should be no destination rules</span>
$ kubectl get gateway           <span style="color:#8f5902;font-style:italic">#-- there should be no gateway</span>
$ kubectl get pods              <span style="color:#8f5902;font-style:italic">#-- the Bookinfo pods should be deleted</span>
</code></pre></div><h2 id="uninstall-istio">Uninstall Istio</h2>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ istioctl manifest generate <span style="color:#000;font-weight:bold">|</span> kubectl delete -f -
</code></pre></div><p>Make sure Istio is uninstalled</p>
<div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ kubectl get namespace istio-system
</code></pre></div>
        <div class="section-index">
    
    
    
    
    <hr class="panel-line">
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
                <div class="entry">
                    <h5>
                        <a href="/en/docs/quick-start/istio/istio-diff/"></a>
                    </h5>
                    <p></p>
                </div>
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
            
        
    
</div>

	
	
	<div class="text-muted mt-5 pt-3 border-top">Last modified February 21, 2023: <a  href="https://github.com/mosn/mosn.io/commit/cfa4f2dcad0dd7c71ae995d3dbbbb8045dea1645">tweak url. (cfa4f2d)</a>
</div>
</div>

          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-12 col-sm-4 text-xs-center order-sm-2">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Twitter" aria-label="Twitter">
    <a class="text-white" target="_blank" href="https://twitter.com/MosnProxy">
      <i class="fab fa-twitter"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Mailing list" aria-label="Mailing list">
    <a class="text-white" target="_blank" href="https://groups.google.com/d/forum/mosn-dev">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" href="https://github.com/mosn/mosn">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
        <div style="position: absolute; top: -57px;" class="text-center container-fluid">
          <div>
            <img src="https://github.com/mosn/mosn.io/raw/master/assets/img/dingtalk.jpg?raw=true" width="80">
          </div>
          <div style="font-size: 8px;" class="text-white">
            <p> Welcome Scan by DingTalk </p>
          </div>
        </div>
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2023 The MOSN Authors All Rights Reserved</small>
        
	
      </div>
    </div>
  </div>
</footer>


    </div>
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>






<script src="/js/main.min.21281e9f475a7abc8504cb5fc1cfef4ff8be93a8376f50451d83c27ea0aeab14.js" integrity="sha256-ISgen0daeryFBMtfwc/vT/i&#43;k6g3b1BFHYPCfqCuqxQ=" crossorigin="anonymous"></script>





  </body>
</html>